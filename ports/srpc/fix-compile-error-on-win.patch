From e6cbc94b636efcafb3e2599c8e345780016fba99 Mon Sep 17 00:00:00 2001
From: DengJun <dengjun@sogou-inc.com>
Date: Tue, 2 Feb 2021 13:59:50 +0800
Subject: [PATCH] fix compile error on win

---
 src/message/rpc_message_srpc.cc | 10 +---------
 1 file changed, 1 insertion(+), 9 deletions(-)

diff --git a/src/message/rpc_message_srpc.cc b/src/message/rpc_message_srpc.cc
index 1fdb29f..8785488 100644
--- a/src/message/rpc_message_srpc.cc
+++ b/src/message/rpc_message_srpc.cc
@@ -45,15 +45,7 @@ struct CaseCmp
 {
 	bool operator()(const std::string& lhs, const std::string& rhs) const
 	{
-		size_t lhs_sz = lhs.size();
-		size_t rhs_sz = rhs.size();
-		size_t min_sz = std::min(lhs_sz, rhs_sz);
-		for(size_t i = 0; i < min_sz; i++)
-		{
-			if(std::tolower(lhs[i]) < std::tolower(rhs[i])) return true;
-			else if(std::tolower(lhs[i]) > std::tolower(rhs[i])) return false;
-		}
-		return lhs_sz < rhs_sz;
+		return strcasecmp(lhs.c_str(), rhs.c_str()) < 0;
 	}
 };
 
-- 
2.28.0.windows.1

